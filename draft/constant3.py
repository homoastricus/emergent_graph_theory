import numpy as np

# -----------------------------
# ФУНДАМЕНТАЛЬНЫЕ ПАРАМЕТРЫ ЕТИ
# -----------------------------
K = 7.62          # локальная связность (оптимальное значение для 3D)
p = 0.05         # вероятность shortcut (оптимальное значение)

print("=== ЕДИНАЯ ТЕОРИЯ ИНФОРМАЦИИ — ЧИСТЫЕ БЕЗРАЗМЕРНЫЕ СООТНОШЕНИЯ ===\n")
print(f"Входные параметры: K={K}, p={p}")

# 1. СПЕКТРАЛЬНАЯ РАЗМЕРНОСТЬ
d_s = 1 + np.log(K) / np.log(1/(p*K))
print(f"\n1. Спектральная размерность d_s = {d_s:.6f}")

# 2. СПЕКТРАЛЬНЫЙ РАЗРЫВ
lambda_1 = 0.42 * p * K
print(f"2. Спектральный разрыв λ₁ = {lambda_1:.6f}")

# 3. СКОРОСТЬ СВЕТА (безразмерная)
c_em = np.sqrt(lambda_1)
print(f"3. Скорость света c = {c_em:.6f}")

# 4. ПОСТОЯННАЯ ПЛАНКА (безразмерная)
hbar_em = K**(-d_s/2)
print(f"4. Постоянная Планка ħ = {hbar_em:.6f}")

# 5. ПЛАНКОВСКАЯ ДЛИНА (безразмерная)
ell_P_em = np.sqrt(hbar_em / c_em**3)
print(f"5. Планковская длина ℓ_P = {ell_P_em:.6f}")

# 6. ПЛАНКОВСКОЕ ВРЕМЯ (безразмерная)
t_P_em = ell_P_em / c_em
print(f"6. Планковское время t_P = {t_P_em:.6f}")

# 7. ГРАВИТАЦИОННАЯ ПОСТОЯННАЯ (безразмерная)
G_em = (ell_P_em**2 * c_em**3) / hbar_em
print(f"7. Гравитационная постоянная G = {G_em:.6f}")

# 8. ПОСТОЯННАЯ ТОНКОЙ СТРУКТУРЫ
alpha_em = (np.log(K)**2) / (np.pi * d_s * K**2)
alpha_inv_em = 1 / alpha_em
print(f"8. Постоянная тонкой структуры α⁻¹ = {alpha_inv_em:.6f}")

print(f"\n--- КЛЮЧЕВЫЕ БЕЗРАЗМЕРНЫЕ ОТНОШЕНИЯ ---")
print(f"c/ħ = {c_em/hbar_em:.6f}")
print(f"ℓ_P/c = {ell_P_em/c_em:.6f}")
print(f"G/c³ = {G_em/c_em**3:.6f}")
print(f"ħ/ℓ_P² = {hbar_em/ell_P_em**2:.6f}")

print(f"\n--- ФИЗИЧЕСКАЯ ИНТЕРПРЕТАЦИЯ ---")
print(f"Скорость света: c = √(0.42pK) = {c_em:.6f}")
print(f"Квантовость: ħ = K^(-d_s/2) = {hbar_em:.6f}")
print(f"Гравитация: G = ℓ_P²c³/ħ = {G_em:.6f}")
print(f"Размерность: d_s = 1 + ln(K)/ln(1/pK) = {d_s:.6f}")

print(f"\n--- СРАВНЕНИЕ С НАБЛЮДАЕМЫМИ ОТНОШЕНИЯМИ ---")
print(f"Безразмерная c (у нас): {c_em:.6f}")
print(f"Безразмерная ħ (у нас): {hbar_em:.6f}")
print(f"Отношение ħ/c (у нас): {hbar_em/c_em:.6e}")
print(f"Отношение G/c³ (у нас): {G_em/c_em**3:.6e}")

# Проверка самосогласованности
print(f"\n--- ПРОВЕРКА ФУНДАМЕНТАЛЬНЫХ СООТНОШЕНИЙ ---")
print(f"ħ = ℓ_P²c³/G: {hbar_em:.6f} vs {(ell_P_em**2 * c_em**3 / G_em):.6f}")
print(f"ℓ_P = √(ħG/c³): {ell_P_em:.6f} vs {np.sqrt(hbar_em * G_em / c_em**3):.6f}")
print(f"c = ℓ_P/t_P: {c_em:.6f} vs {ell_P_em/t_P_em:.6f}")

print(f"\n=== ВЫВОД ===")
print(f"Все фундаментальные константы выражаются через (K, p):")
print(f"• Размерность пространства: d_s = {d_s:.3f}")
print(f"• Скорость света: c = {c_em:.3f}")
print(f"• Постоянная Планка: ħ = {hbar_em:.3f}")
print(f"• Гравитационная постоянная: G = {G_em:.3f}")
print(f"• Постоянная тонкой структуры: α⁻¹ = {alpha_inv_em:.1f}")
print(f"\nОтношения между константами фиксированы структурой сети.")
print(f"Для перехода к реальным значениям нужен ОДИН масштабный коэффициент.")